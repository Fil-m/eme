{% extends "base.html" %}

{% block content %}
<div style="margin-bottom: 1rem;">
    <a href="/" style="color: var(--muted); text-decoration: none;">‚Üê –ù–∞–∑–∞–¥</a>
</div>

<div class="card" style="text-align: center; padding: 2rem;">
    <div style="font-size: 3rem; margin-bottom: 1rem;">üë§</div>
    <h2>{{ node.name }}</h2>
    <p class="meta">ID –ø—Ä–∏—Å—Ç—Ä–æ—é: {{ node.device_id }}</p>
    <p class="meta">–í–ø–µ—Ä—à–µ –≤ –º–µ—Ä–µ–∂—ñ: {{ node.created_at.strftime('%Y-%m-%d') }}</p>
</div>

<h3>–ú—ñ–Ω—ñ-—Ä–µ–∑—é–º–µ (–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏–π –≤–Ω–µ—Å–æ–∫)</h3>
<div class="card">
    {% if not stats %}
    <p style="text-align: center; color: var(--muted);">–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∏—Ö –¥—ñ–π.</p>
    {% else %}
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="border-bottom: 1px solid var(--border); text-align: left;">
                <th style="padding: 0.5rem;">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è (–ì–µ–Ω)</th>
                <th style="padding: 0.5rem; text-align: right;">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</th>
            </tr>
        </thead>
        <tbody>
            {% for cat, count in stats.items() %}
            <tr style="border-bottom: 1px solid var(--border);">
                <td style="padding: 0.5rem;">{{ cat }}</td>
                <td style="padding: 0.5rem; text-align: right; font-weight: bold; color: var(--primary);">{{ count }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</div>

<div style="margin-top: 2rem; text-align: center;">
    <button class="btn" onclick="window.print()">–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PDF –∑–≤—ñ—Ç</button>
</div>

{% endblock %}