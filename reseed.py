# -*- coding: utf-8 -*-
from app import app, db, Page

seed_content = {
    "manifest": ("Маніфест EME", """EME — Люди для людей
EME — це люди, які будують світ, де допомога — норма, а взаємодія — щоденна практика.
Ми віримо: кожен може бути вузлом підтримки, і кожна дія має значення.
Ми доводимо, що нова реальність можлива вже сьогодні — локально, конкретно, нами самими.

1. Призначення
Ми створюємо мережу взаємодопомоги, де люди не ізольовані, а з’єднані дією.
Технології служать людям, а не навпаки.
Мала дія, якщо вона відтворювана і поділена, змінює світ.

2. Принципи
Дія важить більше за слова — роби, і світ побачить результат.
Горизонтальність — немає центру, немає керівників. Всі рівні у здатності допомагати.
Прозорість — ресурси, знання, досвід відкриті для всіх.
Реальність понад утопію — ми створюємо функціональне тут і зараз.
Суб’єктність кожного — ти важливий і можеш приймати рішення.
Відтворюваність — наші практики легко повторювати в будь-якому місті, в будь-якому контексті.
Самодостатність: кожен вузол прагне максимальної автономії в базових потребах (їжа, енергія, знання, здоров’я, робота). Ми обмінюємося навичками та ресурсами, щоб кожен міг стати незалежнішим, а не залежнішим від системи.

3. Дія та взаємодія
Ми об’єднуємо людей через спільні проєкти, навчання та події.
Використовуємо технології, простір і знання як інструменти підтримки.
Розширюємо мережу через спільні цінності та практику, без ієрархії.
Фіксуємо досвід і передаємо його далі, щоб з’являлися нові вузли.

4. Візія
Ми прагнемо суспільства, де:
допомога природна, а не подвиг;
довіра практикується щодня;
технології і люди співпрацюють;
мережа підтримки розростається, а ізоляція зникає;
кожна дія стає цеглинкою нової реальності.

5. Заклик
EME існує, щоб ти долучився.
Щоб ти став вузлом, а не глядачем.
Щоб ми разом творили новий світ — тут і зараз, нами самими, щодня.
EME — люди для людей.
Це емерджентність: коли ми разом, виникає щось більше, ніж ми окремо.
І це лише початок. Це для цього руху. Для індексації дій."""),

    "responsibility": ("Відповідальність", """1. Природа відповідальності
В EME відповідальність не каральна, а стабілізуюча.
Вона служить захисту мережі та її вузлів, а не обтяженню окремих учасників.
Відповідальність — це імунітет системи, який локалізує наслідки та дозволяє мережі рости.

2. Локальна відповідальність
Кожен вузол відповідає тільки за свій конкретний внесок, без необхідності «тягнути всю систему».
Це дозволяє:
- зберігати енергію та ресурси учасників
- уникати перевантаження і вигорання
- підвищувати стійкість мережі

3. Відтворюваність і реплікація
Всі практики EME можна легко повторювати.
Кожен учасник, отримавши підтримку або долучившись до проєкту, стає вузлом, який:
- відтворює практики
- передає знання і досвід
- розширює мережу, не концентруючи навантаження на окремому вузлі

4. Зворотний зв’язок
Наслідки дій вузла фіксуються прозоро, щоб:
- учасники бачили ефект своєї дії
- система адаптувала практики під нові обставини
- навчання відбувалося без покарань

5. Підтримка вузлів
Мережа оберігає свої вузли:
- надає ресурси для відновлення
- ділиться знанням для ефективної роботи
- стимулює взаємопідтримку
Кожен вузол залишається активним і здатним діяти довго, що збільшує стійкість системи.

6. Коротка формула
Відповідальність EME = локалізація наслідків + захист вузлів + відтворюваність практик
→ система зростає, вузли залишаються сильними, мережа самореплікується"""),

    "protocol": ("Протокол взаємодії", """Протокол взаємодії EME (версія 1.0 — для самореплікації мережі)
Цей документ описує прості, повторювані кроки, які кожен вузол може виконувати самостійно.
Мета — мережа росте горизонтально, без центру, через чіткі алгоритми дій.
Кожен новий вузол стає здатним створювати нові вузли.

1. Вхід нового вузла в мережу
(онбординг — 3–5 хвилин + 1 день)

Крок 1. Знайомство
Людина знаходить EME (через друга, пост, #EME1на1, канал/чат).
Читає короткий маніфест + Кодекс вузла (1 сторінка).
Задає питання в загальному чаті або безпосередньо вузлу, який запросив.

Крок 2. Самоініціація (сам себе вводить)
Пише в чат/канал повідомлення:
«Привіт, я [ім'я або псевдо]. Хочу бути вузлом EME. Готовий робити мінімум 1 дію підтримки щодня. Мій перший внесок: [коротко про себе або чому долучаюсь].»
Отримує привітання + посилання на основні чати/канали/шаблони.
(Опціонально) Додає себе в список вузлів, якщо є спільний документ або бот.

Крок 3. Перший тиждень — адаптація
Виконує правило 1/1 щодня.
Читає/переглядає 3–5 постів з досвідом (уроки, історії).
Запитує в чаті: «Чим можу допомогти зараз?» або «Що потрібно спільноті?».
Запрошує хоча б 1 людину (друга, знайомого) — просто кидає посилання на маніфест.
Результат: новий вузол активний за 1–3 дні, без «затвердження» від когось.

2. Передача знання та досвіду
(щоб мережа не втрачала пам’ять при рості)
Кожна дія/проєкт/допомога фіксується коротко:
Що зробив → Для кого → Результат → Що спрацювало / не спрацювало (1–3 речення).
Приклад: «Допоміг з резюме — людина отримала запрошення на співбесіду. Спрацювало: конкретні приклади з вакансії. Не спрацювало: надто довгий текст.»
Де фіксувати (вибір вузла):
- Загальний канал/чат з тегом #EMEдосвід або #EMEурок
- Окремий документ/ноушн/гітхаб (якщо є тех-вузли)
- Сторіз/пост з #EME1на1 (для видимості)

Щотижня один вузол (будь-хто) робить «тижневий дайджест»:
3–5 найкорисніших уроків/шаблонів за тиждень → постить у загальний канал.
Це створює «колективну пам’ять» без центру.

Шаблони передачі:
«Як я організував…» (зустріч, збір ресурсів, онлайн-допомога)
«Готовий шаблон: [назва]» (копіюй-встав для повторення)
«Помилка тижня: [опис] → як уникнути»

3. Фіксація помилок та уроків
(щоб мережа вчилася, а не повторювала)
Правило «без провини»: помилка — це ресурс для всіх.
Коли щось пішло не так (вигорання, конфлікт, невдала допомога):
Пишеш коротко: «Урок: [що сталося] → чому → що робити інакше».
Додаєш тег #EMEурок або #EMEпомилка.
Якщо конфлікт — використовуєш правило з Кодексу: говори безпосередньо, спокійно, без публіки.

Щомісяця (або коли накопичиться 10+ уроків) — «колективний огляд»:
Будь-хто може ініціювати пост: «Збираємо топ-5 уроків місяця».
Обговорюємо 10–15 хвилин у голосовому чаті (якщо є).
Оновлюємо «Базу уроків» (один документ або канал-пін).
Якщо урок критичний (наприклад, про кордони, безпеку, вигорання) — робимо його «постійним піном» у чаті.

Одна фраза-пам’ятка для всіх вузлів:
«Я фіксую свій досвід → ділюся ним → мережа вчиться → нові вузли стартують швидше.»
Цей протокол — не догма.
Кожен локальний вузол/чат може адаптувати його під себе (наприклад, додати бота для фіксації, окремий канал для уроків).
Головне — повторюваність і прозорість: кожен знає, що робити, щоб мережа росла сама.
EME — емерджентна мережа.
Протокол робить її стійкою та масштабованою."""),

    "codex": ("Кодекс Вузла", """Кодекс вузла / прості правила дії

Що робить вузол щодня / щотижня:
- Робить мінімум 1 дію підтримки.
- Фіксує результат в індексі.
- Береже себе (пауза без провини).

Одна сторінка, максимум дві, легко запам’ятовується.
Приклад: «Щоденний внесок = маленька дія на користь іншого вузла / спільноти».

2. Протокол взаємодії
Формалізує процеси:
- Як новий вузол входить у мережу
- Як передається знання / досвід
- Як фіксуються помилки / уроки
Цей документ дозволяє системі самореплікуватися, бо кожен знає алгоритм дій.

3. Дошка досвіду / фіксації практик
Реєстр практик, проєктів, успішних дій вузлів
Візуальна або цифрова форма
Забезпечує відтворюваність та навчання через досвід

4. План розширення мережі
Вказує:
- Як залучати нові вузли
- Як організовувати локальні події або онлайн-активності
- Як створювати локальні копії практик
Мета: самореплікація без централізованого управління

5. Документ про підтримку вузлів
Як мережа захищає учасників:
- Ресурси для відновлення (час, знання, енергія)
- Методи контролю навантаження
- Канали взаємопідтримки
Це гарантує, що вузли не вигорають, а система залишається стійкою

6. Метрики та сигналізація
Простий документ для зворотного зв’язку системи:
- Як оцінювати ефективність дій вузлів
- Як помічати слабкі місця або перевантаження
- Як відстежувати відтворюваність практик

7. Візуальні схеми / мапи руху
Мережа, вузли, потоки дій, точки відповідальності
Мета: новий учасник одразу бачить, як працює рух
Зручно для презентацій, залучення нових вузлів"""),

    "experience_board": ("Дошка досвіду", """3. Дошка досвіду EME
(Реєстр практик, проєктів та успішних дій вузлів)

Мета: забезпечити **відтворюваність** — щоб будь-який вузол міг скопіювати успішну практику за 5–10 хвилин, навчитися на чужому досвіді та уникнути повторення помилок.
Це не вікі-статті, а живий реєстр коротких, готових до повторення блоків.

**Формат: цифрова + візуальна (рекомендації 2025–2026)**
Обираємо інструмент, який:
- безкоштовний або дуже дешевий на старті
- дозволяє спільне редагування без центру
- підтримує шаблони / бази даних / теги
- працює офлайн або з хорошим мобільним доступом
- легко масштабувати (від 10 до 1000+ вузлів)

**Найкращі варіанти інструментів (з порівнянням)**

| Варіант | Тип | Переваги для EME | Недоліки | Вартість | Рекомендація для старту |
|---------|-----|------------------|----------|----------|--------------------------|
| **Notion** (база даних + сторінки) | Хмарний, колаборативний | Шаблони, фільтри, сортування, ембед відео/скрінів, красивий вигляд, мобільний додаток, гостьовий доступ без акаунтів | Повністю хмарний (залежність від сервера), безкоштовний ліміт ~1000 блоків на робочий простір | Безкоштовно для особистих/малих груп, потім ~€8/міс на користувача | **Найкращий стартовий вибір** — швидко, красиво, всі знають |
| **Google Sheets / Google Docs** + шаблон | Таблиця + документи | 100% безкоштовно, офлайн-доступ, легко експортувати, фільтри/сортування | Менш візуально привабливо, не ідеально для довгих текстів | Безкоштовно | Якщо хочеш максимальну простоту та нуль витрат |
| **Obsidian + Git / Obsidian Publish / Sync** | Локальний Markdown + граф | Повністю офлайн, приватність, граф зв’язків (візуалізація емерджентності), плагіни для баз даних | Потрібен Git або платний Sync для спільного редагування, крутіша крива навчання | Безкоштовно (Sync ~€5/міс) | Для тех-вузлів, хто хоче максимальну незалежність |
| **Logseq** (open-source outliner) | Локальний + граф | Щоденні нотатки + запити, відкритий код, сильна спільнота | Слабше колаборативне редагування без плагінів | Безкоштовно | Якщо багато хто вже користується Logseq/Obsidian |
| **Discord + форум-канали + боти** або **Telegram + pinned/канал** | Чат + пін | Швидко, всі вже там, боти для тегів/пошуку | Не структуровано, важко шукати старі пости | Безкоштовно | Перехідний варіант, поки не буде окремої дошки |

**Рекомендація для EME на 2025–2026: Почніть з Notion**
(якщо група >20–30 людей — це найшвидший і найвізуальніший спосіб запустити дошку досвіду. Більшість людей вже знають Notion, шаблони роблять реплікацію легкою.)

**Структура Дошки досвіду в Notion (шаблон бази даних)**

Створюємо одну базу даних (Database) типу **Table / Gallery / Board** з такими властивостями (properties):

- Назва практики (Title) — короткий заголовок, наприклад: «Швидка допомога з резюме за 15 хв»
- Тип (Select): Допомога онлайн / Офлайн-зустріч / Шаблон тексту / Збір ресурсів / Подія / Інше
- Рівень складності (Select): 1–5 хв / 15–30 хв / 1–2 години / День+
- Автор вузла (Person або Text) — хто поділився
- Дата додавання (Date)
- Теги (Multi-select): #робота #здоровя #переїзд #техдопомога #емоційна #для-нових-вузлів тощо
- Результат (Text або Select): Успіх / Частковий успіх / Урок з помилки
- Короткий опис (Text) — 2–4 речення: що робив, для кого, результат
- Шаблон для повторення (Text або Toggle) — покроковий рецепт (копіюй-встав)
- Посилання / файли (Files & media) — скріншоти, гугл-доки, pdf, відео
- Уроки / що покращити (Text) — що не спрацювало, чому, як уникнути
- Лінки на подібні практики (Relation) — зв’язок з іншими записами в тій самій базі

**Візуальні режими перегляду (Views) в Notion:**

1. **Gallery** — картки з фото/іконками (найкрасивіше для мотивації)
2. **Board** — по типу або складності (як Trello)
3. **Table** — повний список для пошуку
4. **Timeline** — хронологія зростання мережі
5. **List з фільтром #для-нових-вузлів** — стартер-пак для новачків

**Процес додавання (з Протоколу взаємодії):**

- Зробив корисну дію → за 2–5 хв заповнюєш шаблон у базі (є кнопка «New» + шаблон)
- Додаєш #EMEдосвід у чаті + посилання на запис
- Щотижня/щомісяця хтось (будь-хто) робить «Топ-5 практик тижня» — постить у загальний канал

**Приклад запису (як виглядатиме картка):**

**Швидка допомога з резюме за 15 хв**
Тип: Допомога онлайн
Складність: 15–30 хв
Теги: #робота #для-нових-вузлів
Результат: Успіх (3 людини отримали запрошення)
Шаблон:
1. Запитай вакансію та поточне резюме
2. Порівняй ключові слова
3. Додай/перефразуй 3–5 пунктів під вакансію
4. Надішли версію + пояснення змін
Урок: коротше пояснення змін — краще сприймається

Це забезпечує **самореплікацію**: новий вузол заходить → фільтрує «для-нових-вузлів» → копіює шаблон → робить дію → додає свій результат → мережа вчиться."""),

    "support": ("Підтримка вузлів", """Документ про підтримку вузлів EME
(Колективна турбота — основа стійкості мережі)

EME — це мережа, де вузли не вигорають, бо підтримка один одного вбудована в систему.
Ми не герої, ми — частина живого організму. Якщо вузол виснажується — слабшає вся мережа. Тому ми створюємо механізми, які захищають учасників, зберігають ресурси та дозволяють системі працювати довго й стабільно.

1. Ресурси для відновлення (час, енергія, знання)

- **Право на паузу без провини**
  Будь-який вузол може взяти перерву (день, тиждень, місяць) без пояснень і без відчуття, що «підводить». Просто пише в чат: «Беру паузу» або «Потрібен відпочинок» — і це нормально.

- **Щоденні/щотижневі відновлювальні практики**
  Вбудовуємо в Кодекс вузла:
  - Мінімум 1 день на тиждень без будь-яких активностей EME.
  - Регулярно: сон, рух, хобі, природа, час з близькими (не для мережі, а для себе).
  - Колективні рекомендації: короткі медитації/дихальні вправи, списки «речей, які мене заряджають» (обмінюємося в чаті).

- **Ресурси знань про відновлення**
  У Дошці досвіду окремий розділ/тег #EMEвідновлення:
  - Шаблони «Як я вийшов з вигорання»
  - Списки безкоштовних ресурсів (апки для медитації, подкасти, статті)
  - Колективні рекомендації: книги/відео про sustainable activism, collective care, burnout prevention.

- **Матеріальна підтримка (якщо потрібно)**
  Якщо вузол у кризі (фінансовій, емоційній) — може анонімно/відкрито попросити: «Потрібна допомога з [конкретно]». Мережа реагує за принципом «give what you can, take what you need».

2. Методи контролю навантаження

- **Правило «не більше, ніж можу»**
  Кожен вузол сам визначає свій ліміт:
  - Скільки дій 1/1 на день (може бути 1, а не обов’язково більше).
  - Скільки часу на тиждень (наприклад, 2–5 годин max).
  - Якщо перевищив — сигналізує собі: «Забагато, зменшую».

- **Buddy-система або «пара підтримки»**
  Бажано мати 1–2 «бадді» (близьких вузлів), з якими:
  - Щотижня короткий чек-ін: «Як твій ресурс зараз? 1–10».
  - Якщо хтось падає нижче 4–5 — бадді нагадує про паузу, пропонує допомогу або бере на себе частину дій.

- **Ротація ролей**
  У локальних групах/подіях: ролі (ведучий, нотатки, модерація чату) міняються щотижня/щомісяця. Ніхто не «несе» все на собі постійно.

- **Сигнали тривоги в мережі**
  Якщо бачиш, що вузол пише частіше «вигорання», «важко», «не встигаю» — пиши приватно: «Бачу, що тобі зараз непросто. Чим можу підтримати? Можливо, пауза?». Без тиску, без суджень.

3. Канали взаємопідтримки

- **Загальний чат/канал — «Сигнал SOS»**
  Окремий канал або тег #EMEпідтримка або #потрібнадопомога:
  - Пиши: «Емоційно виснажений», «Потрібно виговоритися», «Фінансова скрута».
  - Відповідь: хто може — пропонує час, слово, ресурс. Анонімно теж можна.

- **Голосові кола підтримки**
  Щотижня/щомісяця: онлайн-коло «Перевірка ресурсу» (30–60 хв).
  Формат: кожен по черзі каже рівень енергії + що потрібно. Решта слухає, пропонує підтримку.

- **Локальні пари/малі групи**
  У місті/регіоні: створюйте малі чати 3–6 людей для глибшої підтримки (щоденні чек-іни, спільні прогулянки, «meal train» — коли хтось у кризі, інші приносять їжу/допомагають).

- **Колективна турбота про події**
  Перед великою подією/збором: перевіряємо «Хто втомлений? Хто бере паузу?».
  Після: обов’язковий «розбір + подяка + відпочинок».

Одна фраза, яку повторюємо:
«Мережа сильна, коли вузли живі. Турбота про себе — це турбота про всіх. Турбота про іншого — це турбота про себе.»

EME захищає учасників не правилами «зверху», а культурою:
- Нормально просити про допомогу.
- Нормально відмовляти.
- Нормально відпочивати.

Це робить нас стійкими.
Разом ми не просто виживаємо — ми виникаємо сильнішими."""),

    "expansion": ("План розширення", """План розширення мережі EME
(версія 1.0 — для самореплікації без центру)

Мета: мережа росте емерджентно — з незалежних дій вузлів, без центрального керівництва.
Кожен вузол може запускати розширення сам, використовуючи тільки доступні інструменти (чат, соцмережі, друзі, локальний простір).

1. Залучення нових вузлів
(як запускати хвилю запрошень без спаму)

Крок 1. Особисте запрошення (найефективніше, 80% росту)
- Щодня/щотижня: запрошуй 1–3 людей з твого кола (друзі, колеги, сусіди, онлайн-знайомі).
- Шаблон повідомлення:
  «Привіт! Я в EME — мережі, де щодня робимо маленькі дії підтримки один одному. Це допомагає вийти з ізоляції «робота-дом». Хочеш глянути маніфест? [посилання] Якщо сподобається — просто напиши в чат: «Хочу бути вузлом» — і ти вже в мережі.»
- Після запрошення: додай людину в загальний чат + надішли посилання на Кодекс вузла.

Крок 2. Вірусний контент (для ширшого охоплення)
- Пости в соцмережах (Instagram, Facebook, Telegram-канали, X):
  - Сторіз/пост з твоєю щоденною дією + #EME1на1 + заклик: «Зроби свою дію сьогодні — тегни мене, і я додам тебе в чат EME».
  - Короткі відео/тексти: «Як я допоміг незнайомцю за 5 хв — і це запустило ланцюжок».
- Хештеги: #EMEразом #EMEвузол #1діяна1день #людидлялюдей
- Якщо пост набирає охоплення — хтось інший копіює шаблон і робить свій.

Крок 3. Автоматичний онбординг
- У чаті/каналі: pinned-повідомлення з маніфестом + Кодексом + Протоколом + інструкцією: «Щоб стати вузлом — просто напиши: «Привіт, я [ім'я]. Хочу бути вузлом EME». Ми тебе додамо».
- Немає модерації: хто написав — той вже вузол.

2. Організація локальних та онлайн-активностей
(щоб мережа відчувалася живою, без «центральних» подій)

Крок 1. Локальні зустрічі (офлайн-вузли)
- Шаблон події: «EME-коло» (1–2 години, 3–10 людей).
  - Місце: парк, кав’ярня, коворкінг, квартира.
  - Структура:
    1. Коло знайомства (2 хв на людину: «Що мене привело в EME?»)
    2. Обмін діями тижня (кожен ділиться 1 успіхом/уроком)
    3. Планування: «Чим можемо допомогти один одному найближчим часом?»
    4. Закінчення: кожен запрошує 1 людину на наступне коло.
- Як запустити: будь-який вузол пише в чат: «Запускаю EME-коло у [місто/район] [дата/час]. Хто з нами?»
- Локальна копія: після зустрічі — короткий пост у загальному чаті з фото/уроками + шаблон для повторення в іншому місті.

Крок 2. Онлайн-активності (щотижневі/щомісячні)
- Голосові чати (Telegram/Discord): «EME-година підтримки» — тема: «Що тебе зараз турбує? Чим можемо допомогти?»
- Шаблон: «Запускаю онлайн-коло в неділю 20:00. Тема: [наприклад, вигорання]. Приєднуйтесь за посиланням».
- Інші формати: спільний перегляд фільму + обговорення, Q&A-сесія, «швидка допомога» (кожен ставить запит — інші відповідають за 2 хв).
- Розширення: хто брав участь — запускає своє коло в своєму часовому поясі/місті.

3. Створення локальних копій практик
(щоб практики дублювалися в нових містах/групах)

Крок 1. Використання Дошки досвіду
- Новий вузол заходить → фільтрує «для-нових-вузлів» або «локальні події».
- Копіює шаблон: завантажує маніфест, Кодекс, Протокол, Дошку як копію (Notion: Duplicate) або створює свій Google Doc/Telegram-канал.
- Додає свій локальний чат: «EME [Місто/Район]» — і запрошує перших людей.

Крок 2. Шаблон запуску локальної мережі
1. Створи чат/канал з назвою «EME [твоє місто/регіон]».
2. Запини: маніфест + Кодекс + Протокол + посилання на загальну Дошку досвіду.
3. Зроби першу дію: опублікуй свою щоденну допомогу + запроси 3–5 знайомих.
4. Запусти перше коло/подію за шаблоном вище.
5. Фіксуй у загальній Дошці: «Запустив локальну групу в [місто] — ось що спрацювало».

Крок 3. Моніторинг росту (без центру)
- Кожен вузол раз на місяць постить у загальний канал: «Мій внесок у розширення: +X нових вузлів, +1 подія».
- Це створює соціальний доказ і мотивує інших.

Одна фраза-пам’ятка для всіх вузлів:
«Я запускаю розширення у своєму колі — мережа росте сама. Моя дія + копіювання шаблону = нові вузли в новому місті.»

EME — не організація, а процес. Кожен вузол — це насіння нової мережі. Розширюйся там, де ти є. Це лише початок.""")
}

def reseed():
    with app.app_context():
        print("Starting reseed...")
        for slug, (title, content) in seed_content.items():
            print(f"Updating {slug}...")
            page = Page.query.filter_by(slug=slug).first()
            if not page:
                page = Page(title=title, content=content, slug=slug)
                db.session.add(page)
            else:
                page.title = title
                page.content = content
        
        db.session.commit()
        print("Reseed complete.")

if __name__ == "__main__":
    reseed()
